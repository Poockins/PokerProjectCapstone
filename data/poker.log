/*C138*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS games (id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY, flop VARCHAR(30) ARRAY, turn VARCHAR(30), river VARCHAR(30), created_at TIMESTAMP)
DISCONNECT
/*C139*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS players (id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY, name VARCHAR(256))
DISCONNECT
/*C140*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS hands (id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY, cards VARCHAR(30) ARRAY, player_id INT, game_id INT, FOREIGN KEY(player_id) REFERENCES players, FOREIGN KEY(game_id) REFERENCES games)
DISCONNECT
/*C141*/SET SCHEMA PUBLIC
INSERT INTO PLAYERS VALUES(25,'Player 1')
COMMIT
DISCONNECT
/*C142*/SET SCHEMA PUBLIC
INSERT INTO HANDS VALUES(25, ARRAY['KING::DIAMONDS','SIX::SPADES'],25,NULL)
COMMIT
DISCONNECT
/*C143*/SET SCHEMA PUBLIC
INSERT INTO PLAYERS VALUES(26,'Player 2')
COMMIT
DISCONNECT
/*C144*/SET SCHEMA PUBLIC
INSERT INTO HANDS VALUES(26, ARRAY['SIX::HEARTS','FOUR::CLUBS'],26,NULL)
COMMIT
DISCONNECT
/*C145*/SET SCHEMA PUBLIC
INSERT INTO GAMES VALUES(14,NULL,NULL,NULL,'2019-05-12 10:25:56.983000')
COMMIT
DISCONNECT
/*C146*/SET SCHEMA PUBLIC
DISCONNECT
/*C147*/SET SCHEMA PUBLIC
DELETE FROM HANDS WHERE ID=25
INSERT INTO HANDS VALUES(25, ARRAY['KING::DIAMONDS','SIX::SPADES'],25,14)
COMMIT
DISCONNECT
/*C148*/SET SCHEMA PUBLIC
DELETE FROM HANDS WHERE ID=26
INSERT INTO HANDS VALUES(26, ARRAY['SIX::HEARTS','FOUR::CLUBS'],26,14)
COMMIT
DISCONNECT
/*C149*/SET SCHEMA PUBLIC
DELETE FROM GAMES WHERE ID=14
INSERT INTO GAMES VALUES(14, ARRAY['QUEEN::HEARTS','TWO::DIAMONDS','TWO::DIAMONDS'],'TWO::DIAMONDS','TWO::DIAMONDS','2019-05-12 10:25:56.983000')
COMMIT
DISCONNECT
